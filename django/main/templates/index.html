<!DOCTYPE html>
<html style=""><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8">
<style>

body {
  font: 13px sans-serif;
}

.bar {
  fill: steelblue;
}

</style>
<link rel="stylesheet" href="//rawgithub.com/Caged/d3-tip/master/examples/example-styles.css">

<title>Searching Stack</title>
</head>

<body>
<script type="text/javascript" src="s/d3/d3.v3.min.js" charset="utf-8"></script>
<script type="text/javascript" src="s/d3/colorbrewer.js" charset="utf-8"></script>
<script type="text/javascript" src="s/d3/d3-tip.js" charset="utf-8"></script>

<div id="chart"></div>

<script>

  var json =  {
    "items": [
      {
        "label": "apples",
        "n": 20
      },
      {
        "label": "oranges",
        "n": 30
      },
      {
        "label": "bananas",
        "n": 10
      },
      {
        "label": "plums",
        "n": 5
      }
    ]};


  var w = 500,
      h = 100;

  var svg = d3.select("#chart")
    .append("svg")
    .attr("width", w)
    .attr("height", h);


  var data = json.items;

  var max_n = 0;
  for (var d in data) {
    max_n = Math.max(data[d].n, max_n);
  }
  
  var dx = w / max_n;
  var dy = h / data.length;

  // bars
  var bars = svg.selectAll(".bar")
    .data(data)
    .enter()
    .append("rect")
    .attr("class", function(d, i) {return "bar " + d.label;})
    .attr("x", function(d, i) {return 0;})
    .attr("y", function(d, i) {return dy*i;})
    .attr("width", function(d, i) {return dx*d.n})
    .attr("height", dy);

  // labels
  var text = svg.selectAll("text")
    .data(data)
    .enter()
    .append("text")
    .attr("class", function(d, i) {return "label " + d.label;})
    .attr("x", 5)
    .attr("y", function(d, i) {return dy*i + 15;})
    .text( function(d) {return d.label + " (" + d.n  + ")";})
    .attr("font-size", "15px")
    .style("font-weight", "bold");

</script>


</body></html>